<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Git - Guillaume Marcoux - Commandes - Synchronisation</title>
	<link rel="icon" href="../images/favicon.ico">
	
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
	<link rel="stylesheet" href="../css/bootstrap-4-navbar.css">
	
	<link rel="stylesheet" href="../css/custom.css">
	
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous" defer></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous" defer></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous" defer></script>
	
	<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" defer></script>
	<script src="../js/close-navbar.js" defer></script>
	<script src="../js/loadings.js" defer></script>
	<script src="../js/sidebar-size.js" defer></script>
	
	<script src="../js/bootstrap-4-navbar.js" defer></script>
</head>
<body class="text-justify">
	
	<header id="sticky-header" style="min-height: 3.6rem">
		
		<nav id="navbar-top" class="navbar navbar-expand-lg nav-pills fixed-top navbar-dark bg-dark">
			<div class="container">
				<a class="navbar-brand text-light" href="../index.html">
					<img src="../images/git-icon-white.png" width="30" height="30" alt="">
					Git
				</a>
				<button id="navbar-toggler" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-content" aria-controls="navbar-content" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				
				<div id="navbar-content" class="collapse navbar-collapse">
					<ul class="navbar-nav">
						<li class="nav-item m-1 my-lg-0">
							<a class="nav-link px-2" href="../index.html#introduction">Introduction</a>
						</li>
						<li class="nav-item dropdown m-1 my-lg-0">
							<a class="nav-link dropdown-toggle px-2 clickable" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
								Sections
							</a>
							<div class="dropdown-menu" aria-labelledby="navbarDropdown">
								<a class="dropdown-item" href="../index.html#what-is-git">C'est quoi Git?</a>
								<a class="dropdown-item" href="../index.html#briefing">Un bref aperçu</a>
								<a class="dropdown-item" href="../index.html#distributed">Un système distribué</a>
								<a class="dropdown-item" href="../index.html#branches">Les branches</a>
								<a class="dropdown-item" href="../index.html#commands">Les commandes</a>
								<a class="dropdown-item" href="../index.html#visual-aid">Le fonctionnement en image</a>
								<a class="dropdown-item" href="../index.html#guis">Les gestionnaires visuels</a>
								<a class="dropdown-item" href="../index.html#services">Services de gestion externes</a>
								<a class="dropdown-item" href="../index.html#conclusion">Conclusion</a>
							</div>
						</li>
						<li class="nav-item dropdown m-1 my-lg-0">
							<a class="nav-link dropdown-toggle px-2 clickable active" id="navbarDropdownCommands" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
								Commandes
							</a>
							<ul class="dropdown-menu" aria-labelledby="navbarDropdownCommands">
								<li>
									<a class="dropdown-item dropdown-toggle" href="./repository.html">Repository</a>
									<ul class="dropdown-menu mx-3 mx-lg-0">
										<li>
											<a class="dropdown-item" href="./repository.html">Introduction</a>
										</li>
										<li>
											<a class="dropdown-item" href="./repository.html#init"><kbd>init</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./repository.html#clone"><kbd>clone</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./repository.html#log"><kbd>log</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./repository.html#diff"><kbd>diff</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./repository.html#remote"><kbd>remote</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./repository.html#status"><kbd>status</kbd></a>
										</li>
									</ul>
								</li>
								<li>
									<a class="dropdown-item dropdown-toggle" href="./commits.html">Commits</a>
									<ul class="dropdown-menu mx-3 mx-lg-0">
										<li>
											<a class="dropdown-item" href="./commits.html">Introduction</a>
										</li>
										<li>
											<a class="dropdown-item" href="./commits.html#add"><kbd>add</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./commits.html#reset"><kbd>reset</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./commits.html#commit"><kbd>commit</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./commits.html#tag"><kbd>tag</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./commits.html#stash"><kbd>stash</kbd></a>
										</li>
									</ul>
								</li>
								<li>
									<a class="dropdown-item dropdown-toggle" href="./branches.html">Branches</a>
									<ul class="dropdown-menu mx-3 mx-lg-0">
										<li>
											<a class="dropdown-item" href="./branches.html">Introduction</a>
										</li>
										<li>
											<a class="dropdown-item" href="./branches.html#branch"><kbd>branch</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./branches.html#checkout"><kbd>checkout</kbd></a>
										</li>
									</ul>
								</li>
								<li>
									<a class="dropdown-item dropdown-toggle active" href="./sync.html">Synchronisation</a>
									<ul class="dropdown-menu mx-3 mx-lg-0">
										<li>
											<a class="dropdown-item" href="./sync.html">Introduction</a>
										</li>
										<li>
											<a class="dropdown-item" href="./sync.html#fetch"><kbd>fetch</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./sync.html#pull"><kbd>pull</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./sync.html#push"><kbd>push</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./sync.html#merge"><kbd>merge</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./sync.html#mergetool"><kbd>mergetool</kbd></a>
										</li>
									</ul>
								</li>
							</ul>
						</li>
						<li class="nav-item m-1 my-lg-0">
							<a class="nav-link px-2" href="../flows.html">Flux de travail</a>
						</li>
						<li class="nav-item m-1 my-lg-0">
							<a class="nav-link px-2" href="../services.html">Services externes</a>
						</li>
						<li class="nav-item m-1 my-lg-0">
							<a class="nav-link px-2" href="../guis.html">Programmes pour gérer git</a>
						</li>
					</ul>
				</div>
			</div>
		</nav>
		
	</header>
	
	<div class="row w-100 mx-0">
		
		<div class="col-3 d-none d-lg-inline px-0">
			
			<nav class="navbar navbar-light bg-light sticky">
				
				<div class="m-auto py-2 flex-column">
					
					<span class="lead">Accès rapides aux commandes</span>
					
					<div id="test" class="py-2">
						
						<ul class="list-group">
							<li class="list-group-item">
								<a class="lead dropdown-toggle no-deco" href="#collapseRepository" data-toggle="collapse" data-parent="#sidebarContent">Repository</a>
								<div id="collapseRepository" class="mt-2 collapse" data-parent="#test">
									<a class="list-group-item" href="./repository.html#init"><kbd>init</kbd></a>
									<a class="list-group-item" href="./repository.html#clone"><kbd>clone</kbd></a>
									<a class="list-group-item" href="./repository.html#log"><kbd>log</kbd></a>
									<a class="list-group-item" href="./repository.html#diff"><kbd>diff</kbd></a>
									<a class="list-group-item" href="./repository.html#remote"><kbd>remote</kbd></a>
									<a class="list-group-item" href="./repository.html#status"><kbd>status</kbd></a>
								</div>
							</li>
							<li class="list-group-item">
								<a class="lead dropdown-toggle no-deco" href="#collapseCommits" data-toggle="collapse" data-parent="#sidebarContent">Commits</a>
								<div id="collapseCommits" class="mt-2 collapse" data-parent="#test">
									<a class="list-group-item" href="./commits.html#add"><kbd>add</kbd></a>
									<a class="list-group-item" href="./commits.html#reset"><kbd>reset</kbd></a>
									<a class="list-group-item" href="./commits.html#commit"><kbd>commit</kbd></a>
									<a class="list-group-item" href="./commits.html#tag"><kbd>tag</kbd></a>
									<a class="list-group-item" href="./commits.html#stash"><kbd>stash</kbd></a>
								</div>
							</li>
							<li class="list-group-item">
								<a class="lead dropdown-toggle no-deco" href="#collapseBranches" data-toggle="collapse" data-parent="#sidebarContent">Branches</a>
								<div id="collapseBranches" class="mt-2 collapse" data-parent="#test">
									<a class="list-group-item" href="./branches.html#branch"><kbd>branch</kbd></a>
									<a class="list-group-item" href="./branches.html#checkout"><kbd>checkout</kbd></a>
								</div>
							</li>
							<li class="list-group-item">
								<a class="lead dropdown-toggle no-deco" href="#collapseSynchronisation" data-toggle="collapse" data-parent="#sidebarContent">Synchronisation</a>
								<div id="collapseSynchronisation" class="mt-2 collapse show" data-parent="#test">
									<a class="list-group-item" href="./sync.html#fetch"><kbd>fetch</kbd></a>
									<a class="list-group-item" href="./sync.html#pull"><kbd>pull</kbd></a>
									<a class="list-group-item" href="./sync.html#push"><kbd>push</kbd></a>
									<a class="list-group-item" href="./sync.html#merge"><kbd>merge</kbd></a>
									<a class="list-group-item" href="./sync.html#mergetool"><kbd>mergetool</kbd></a>
								</div>
							</li>
						</ul>
						
					</div>
					
				</div>
				
			</nav>
			
		</div>
		
		<div class="col">
			
			<main id="sticky-container" class="py-4">
				<div class="container">
					
					<section class="py-2">
						
						<h2 id="introduction" class="text-left">Commandes pour gérer la <span class="font-italic">synchronisation</span></h2>
						
						<p class="pt-2">
							Vous trouverez dans cette section des commandes pour synchroniser plusieurs repository ensemble, tel qu'un repository local et un repository placé dans un service externe.
							De plus, cette synchronisation signifie qu'il doit y avoir une combinaison du travail accomplit, et donc, des commandes pour faire cette combinaison sont aussi présentes dans cette section (<code>merge</code> et <code>mergetool</code>).
						</p>
						<p>
							Voici une image (oui, c'est la même que celle <a href="../index.html#visual-aid">dans l'index</a>) que vous pouvez utiliser pour mieux comprendre chacune des étapes liées à la synchronisation (les autres appartenant à la catégorie des <a href="./commits.html">commits</a>...) :
						</p>
						<div class="py-3">
							<img class="img-fluid d-block mx-auto" src="../images/HowGitWorksBackground.jpg" alt="Aperçu du fonctionnement de git">
						</div>
						
					</section>
					
					<section class="py-2">
						
						<h2 id="fetch" class="text-left"><code>git fetch</code></h2>
						
						<p class="pt-2">
							Cette commande sert à mettre à jour localement le status du repository distant.
							Elle ne prend <u class="font-weight-bold">pas</u> les modifications effectuées pour les mettre dans la branche locale : elle ne fait qu'indiquer que le repository externe contient les commits qu'il contient sur le serveur.
							<br>
							Bref, cette commande sert à savoir si des commits sont ajoutés dans le repository externe (cela nous aide à savoir quelles actions effectuer en conséquence!).
						</p>
						<p>
							Elle permet aussi cependant de télécharger les tags sur le repository distant, avec l'option <kbd>-t</kbd> : <kbd>git fetch -t</kbd>.
						</p>
						<p class="mb-0">
							<a href="https://git-scm.com/docs/git-fetch" target="_blank">En savoir plus <img class="pl-1" src="../images/link-external.png" alt="" height="10"></a>
						</p>
						
					</section>
					
					<section class="py-2">
						
						<h2 id="pull" class="text-left"><code>git pull</code></h2>
						
						<p class="pt-2">
							Cette commande sert à prendre le contenu d'une branche externe (ou une autre branche locale) et de la synchroniser sur la branche locale que nous sommes présentement.
							Une particularité de cette commande est qu'elle exécute automatiquement au préalable un <kbd>git fetch</kbd> pour savoir si des modifications sont à <span class="font-italic">merge</span>.
							Dans un certain sens, est exécute aussi un <kbd>git merge</kbd>.
						</p>
						<p>
							Cette commande peut ainsi causer un conflit puisqu'il est possible que des modifications sur un même fichier aux mêmes lignes : communément appelé un <mark class="font-italic">merge conflict</mark>.
							Pour en apprendre d'avantage sur les merges, continuez la lecture vers la prochaine commande : <kbd>git merge</kbd>!
						</p>
						<p class="mb-0">
							<a href="https://git-scm.com/docs/git-pull" target="_blank">En savoir plus <img class="pl-1" src="../images/link-external.png" alt="" height="10"></a>
						</p>
						
					</section>
					
					<section class="py-2">
						
						<h2 id="merge" class="text-left"><code>git merge</code></h2>
						
						<p class="pt-2">
							Cette commande est celle qui gère la synchronisation du <mark>workspace</mark> entre deux branches : en d'autres mots, une commande cruciale pour le travail à plusieurs.
						</p>
						<p>
							Par exemple, nous sommes sur la branche <code>master</code>, et la branche <code>test</code> est prête à être <span class="font-italic">merge</span> dans <code>master</code> : nous ferions un <kbd>git merge test</kbd> et git commencera une procédure de <span class="font-italic">merge</span> pour toutes les modifications apportées dans la branche <code>test</code> pour tenter de les mettre dans <code>master</code>.
						</p>
						<p class="mb-1">
							Git est cependant assez intelligent : en ne prenant en compte que les lignes qui sonts modifiées, les merges peuvent s'appliquer automatiquement et les modifications des deux branches seront présentes dans le <mark>workspace</mark>.
						</p>
						<p class="mb-2">
							Par contre, le mot <span class="font-italic">assez</span> dans "<span class="font-italic">assez intelligent</span>" est mis de l'avant : malgré que git gère habituellement bien les merges, il est possible que des conflits entre modifications surviennent.
							Ces conflits sont communément nommés des <span class="font-italic font-weight-bold">merge conflicts</span> et ressemblent à ceci :
						</p>
						<pre class="code mb-2">
							<span class="lead">Liste.txt</span>
							<hr class="mt-2 mb-0">
							Équipe Finances
							- Charles
							- Lisa
							- John
							<span class="text-danger">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</span>		<span class="text-warning">[ <-- prendre note!]</span>
							- Stacy
							- Alexander
							<span class="text-danger">=======</span>			<span class="text-warning">[ <-- prendre note!]</span>
							- Morgan
							- Amanda
							<span class="text-danger">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; test</span>		<span class="text-warning">[ <-- prendre note!]</span>
						</pre>
						<p class="mb-2">
							Dans cet exemple, on pourrait imaginer que nous avons ajouter deux personnes dans la liste de l'équipe des finances : Stacy et Alexander.
							Cependant, dans cette liste, une autre personne avait déjà ajouter Morgan et Amanda, mais cela dans la branche <code>test</code>.
							Git, n'ayant pas réussi à synchroniser les changements deux deux côté, indique qu'il y a un conflit en ajoutant dans le fichier des <span class="font-weight-bold">indicateurs de conflits</span>, soit le <span class="text-danger"><tt>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</tt></span>, <span class="text-danger"><tt>=======</tt></span> et le <span class="text-danger"><tt>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; test</tt></span>.
						</p>
						<p class="mb-2">
							Ces indicateurs affichent à quelle branches appartient les modifications : entre "<span class="text-danger"><tt>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</tt></span>" et "<span class="text-danger"><tt>=======</tt></span>", on y retrouve <u>nos</u> modifications, tandis que entre "<span class="text-danger"><tt>=======</tt></span>" et "<span class="text-danger"><tt>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; test</tt></span>", on y retrouve les modifications apportées par d'<u>autres</u> personnes dans la branche <code>test</code>.
							C'est donc à notre tour de régler ce conflit, simplement en modifiant le fichier comme on le souhaite, en quelque sorte faisant le merge nous-même :
						</p>
						<pre class="code mb-2">
							<span class="lead">Liste.txt</span>
							<hr class="mt-2 mb-0">
							Équipe Finances
							- Charles
							- Lisa
							- John
							- Morgan
							- Amanda
							- Stacy
							- Alexander
						</pre>
						<p>
							Le merge étant maintenant complété dans ce fichier, nous pouvons l'ajouter à l'index en faisant un <a href="./commits.html#add" target="_blank"><kbd>git add Liste.txt</kbd></a> (cette commande va en même temps dire à git que le conflit est résolu!) et continuer à faire le merge en créant le <span class="font-italic font-weight-bold">merge commit</span>.
						</p>
						<p>
							Plusieurs autres manières pour merge des commits existe (<span class="font-italic">rebase</span>, <span class="font-italic">fast forward / not fast forward</span>, etc), donc étant un concepte plus facile à comprendre lorsque présenté sous forme visuelle, <a href="https://www.youtube.com/watch?v=XX-Kct0PfFc" target="_blank">voici une vidéo</a> qui explique bien le concepte du merge!
						</p>
						<p class="mb-0">
							<a href="https://git-scm.com/docs/git-merge" target="_blank">En savoir plus <img class="pl-1" src="../images/link-external.png" alt="" height="10"></a>
						</p>
						
					</section>
					
					<section class="py-2">
						
						<h2 id="mergetool" class="text-left"><code>git mergetool</code></h2>
						
						<p class="pt-2">
							Todo
						</p>
						<p class="mb-0">
							<a href="https://git-scm.com/docs/git-mergetool" target="_blank">En savoir plus <img class="pl-1" src="../images/link-external.png" alt="" height="10"></a>
						</p>
						
					</section>
					
					<section class="py-2">
						
						<h2 id="push" class="text-left"><code>git push</code></h2>
						
						<p class="pt-2">
							Todo
						</p>
						<p class="mb-0">
							<a href="https://git-scm.com/docs/git-push" target="_blank">En savoir plus <img class="pl-1" src="../images/link-external.png" alt="" height="10"></a>
						</p>
						
					</section>
					
				</div>
			</main>
			
		</div>
		
	</div>
	
	<footer>
		
		<div class="d-flex bg-dark py-3 text-light">
			<div class="container py-3">
				<div class="row text-center">
					<div class="col-sm text-sm-left">
						Document réalisé avec <span class="text-danger">&hearts;</span> par Guillaume Marcoux &copy; 2018
					</div>
					<div class="col-sm text-sm-right pt-4 pt-sm-0">
						Site créé avec <a href="https://getbootstrap.com/" target="_blank">Bootstrap</a> <a href="https://getbootstrap.com/docs/4.1/getting-started/introduction/" target="_blank">4.1</a>.
					</div>
				</div>
			</div>
		</div>
		
	</footer>
	
</body>
</html>