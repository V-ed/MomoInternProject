<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Git - Guillaume Marcoux - Commandes - Commits</title>
	
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
	<link rel="stylesheet" href="../css/bootstrap-4-navbar.css">
	
	<link rel="stylesheet" href="../css/custom.css">
	
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous" defer></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous" defer></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous" defer></script>
	
	<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" defer></script>
	<script src="../js/close-navbar.js" defer></script>
	<script src="../js/loadings.js" defer></script>
	<script src="../js/sidebar-size.js" defer></script>
	
	<script src="../js/bootstrap-4-navbar.js" defer></script>
</head>
<body class="text-justify">
	
	<header id="sticky-header" style="min-height: 3.6rem">
		
		<nav id="navbar-top" class="navbar navbar-expand-lg nav-pills fixed-top navbar-dark bg-dark">
			<div class="container">
				<a class="navbar-brand text-light" href="../index.html">
					<img src="../images/git-icon-white.png" width="30" height="30" alt="">
					Git
				</a>
				<button id="navbar-toggler" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-content" aria-controls="navbar-content" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				
				<div id="navbar-content" class="collapse navbar-collapse">
					<ul class="navbar-nav">
						<li class="nav-item m-1 my-lg-0">
							<a class="nav-link px-2" href="../index.html#introduction">Introduction</a>
						</li>
						<li class="nav-item dropdown m-1 my-lg-0">
							<a class="nav-link dropdown-toggle px-2 clickable" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
								Sections
							</a>
							<div class="dropdown-menu" aria-labelledby="navbarDropdown">
								<a class="dropdown-item" href="../index.html#what-is-git">C'est quoi Git?</a>
								<a class="dropdown-item" href="../index.html#briefing">Un bref aperçu</a>
								<a class="dropdown-item" href="../index.html#distributed">Un système distribué</a>
								<a class="dropdown-item" href="../index.html#branches">Les branches</a>
								<a class="dropdown-item" href="../index.html#commands">Les commandes</a>
								<a class="dropdown-item" href="../index.html#visual-aid">Le fonctionnement en image</a>
								<a class="dropdown-item" href="../index.html#guis">Les gestionnaires visuels</a>
								<a class="dropdown-item" href="../index.html#services">Services de gestion externes</a>
								<a class="dropdown-item" href="../index.html#conclusion">Conclusion</a>
							</div>
						</li>
						<li class="nav-item dropdown m-1 my-lg-0">
							<a class="nav-link dropdown-toggle px-2 clickable active" id="navbarDropdownCommands" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
								Commandes
							</a>
							<ul class="dropdown-menu" aria-labelledby="navbarDropdownCommands">
								<li>
									<a class="dropdown-item dropdown-toggle" href="./repository.html">Repository</a>
									<ul class="dropdown-menu mx-3 mx-lg-0">
										<li>
											<a class="dropdown-item" href="./repository.html">Introduction</a>
										</li>
										<li>
											<a class="dropdown-item" href="./repository.html#init"><kbd>init</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./repository.html#clone"><kbd>clone</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./repository.html#log"><kbd>log</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./repository.html#diff"><kbd>diff</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./repository.html#remote"><kbd>remote</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./repository.html#status"><kbd>status</kbd></a>
										</li>
									</ul>
								</li>
								<li>
									<a class="dropdown-item dropdown-toggle active" href="./commits.html">Commits</a>
									<ul class="dropdown-menu mx-3 mx-lg-0">
										<li>
											<a class="dropdown-item" href="./commits.html">Introduction</a>
										</li>
										<li>
											<a class="dropdown-item" href="./commits.html#add"><kbd>add</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./commits.html#reset"><kbd>reset</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./commits.html#commit"><kbd>commit</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./commits.html#tag"><kbd>tag</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./commits.html#stash"><kbd>stash</kbd></a>
										</li>
									</ul>
								</li>
								<li>
									<a class="dropdown-item dropdown-toggle" href="./branches.html">Branches</a>
									<ul class="dropdown-menu mx-3 mx-lg-0">
										<li>
											<a class="dropdown-item" href="./branches.html">Introduction</a>
										</li>
										<li>
											<a class="dropdown-item" href="./branches.html#branch"><kbd>branch</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./branches.html#checkout"><kbd>checkout</kbd></a>
										</li>
									</ul>
								</li>
								<li>
									<a class="dropdown-item dropdown-toggle" href="./sync.html">Synchronisation</a>
									<ul class="dropdown-menu mx-3 mx-lg-0">
										<li>
											<a class="dropdown-item" href="./sync.html">Introduction</a>
										</li>
										<li>
											<a class="dropdown-item" href="./sync.html#fetch"><kbd>fetch</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./sync.html#pull"><kbd>pull</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./sync.html#push"><kbd>push</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./sync.html#merge"><kbd>merge</kbd></a>
										</li>
										<li>
											<a class="dropdown-item" href="./sync.html#mergetool"><kbd>mergetool</kbd></a>
										</li>
									</ul>
								</li>
							</ul>
						</li>
						<li class="nav-item m-1 my-lg-0">
							<a class="nav-link px-2" href="../flows.html">Flux de travail</a>
						</li>
						<li class="nav-item m-1 my-lg-0">
							<a class="nav-link px-2" href="../services.html">Services externes</a>
						</li>
						<li class="nav-item m-1 my-lg-0">
							<a class="nav-link px-2" href="../guis.html">Programmes pour gérer git</a>
						</li>
					</ul>
				</div>
			</div>
		</nav>
		
	</header>
	
	<div class="row w-100 mx-0">
		
		<div class="col-3 d-none d-lg-inline px-0">
			
			<nav class="navbar navbar-light bg-light sticky">
				
				<div class="m-auto py-2 flex-column">
					
					<span class="lead">Accès rapides aux commandes</span>
					
					<div id="test" class="py-2">
						
						<ul class="list-group">
							<li class="list-group-item">
								<a class="lead dropdown-toggle no-deco" href="#collapseRepository" data-toggle="collapse" data-parent="#sidebarContent">Repository</a>
								<div id="collapseRepository" class="mt-2 collapse" data-parent="#test">
									<a class="list-group-item" href="./repository.html#init"><kbd>init</kbd></a>
									<a class="list-group-item" href="./repository.html#clone"><kbd>clone</kbd></a>
									<a class="list-group-item" href="./repository.html#log"><kbd>log</kbd></a>
									<a class="list-group-item" href="./repository.html#diff"><kbd>diff</kbd></a>
									<a class="list-group-item" href="./repository.html#remote"><kbd>remote</kbd></a>
									<a class="list-group-item" href="./repository.html#status"><kbd>status</kbd></a>
								</div>
							</li>
							<li class="list-group-item">
								<a class="lead dropdown-toggle no-deco" href="#collapseCommits" data-toggle="collapse" data-parent="#sidebarContent">Commits</a>
								<div id="collapseCommits" class="mt-2 collapse show" data-parent="#test">
									<a class="list-group-item" href="./commits.html#add"><kbd>add</kbd></a>
									<a class="list-group-item" href="./commits.html#reset"><kbd>reset</kbd></a>
									<a class="list-group-item" href="./commits.html#commit"><kbd>commit</kbd></a>
									<a class="list-group-item" href="./commits.html#tag"><kbd>tag</kbd></a>
									<a class="list-group-item" href="./commits.html#stash"><kbd>stash</kbd></a>
								</div>
							</li>
							<li class="list-group-item">
								<a class="lead dropdown-toggle no-deco" href="#collapseBranches" data-toggle="collapse" data-parent="#sidebarContent">Branches</a>
								<div id="collapseBranches" class="mt-2 collapse" data-parent="#test">
									<a class="list-group-item" href="./branches.html#branch"><kbd>branch</kbd></a>
									<a class="list-group-item" href="./branches.html#checkout"><kbd>checkout</kbd></a>
								</div>
							</li>
							<li class="list-group-item">
								<a class="lead dropdown-toggle no-deco" href="#collapseSynchronisation" data-toggle="collapse" data-parent="#sidebarContent">Synchronisation</a>
								<div id="collapseSynchronisation" class="mt-2 collapse" data-parent="#test">
									<a class="list-group-item" href="./sync.html#fetch"><kbd>fetch</kbd></a>
									<a class="list-group-item" href="./sync.html#pull"><kbd>pull</kbd></a>
									<a class="list-group-item" href="./sync.html#push"><kbd>push</kbd></a>
									<a class="list-group-item" href="./sync.html#merge"><kbd>merge</kbd></a>
									<a class="list-group-item" href="./sync.html#mergetool"><kbd>mergetool</kbd></a>
								</div>
							</li>
						</ul>
						
					</div>
					
				</div>
				
			</nav>
			
		</div>
		
		<div class="col">
			
			<main id="sticky-container" class="py-4">
				<div class="container">
					
					<section class="py-2">
						
						<h2 id="introduction" class="text-left">Commandes pour gérer les <span class="font-italic">commits</span></h2>
						
						<p class="pt-2">
							Vous trouverez dans cette section des commandes utiles pour créer et gérer les commits.
							Ici ce trouve le coeur de l'utilisation de git, les commandes les plus utilisées puisque les commits font partie intégrale du concepte de git.
						</p>
						<p>
							Voici une image (oui, c'est la même que celle <a href="../index.html#visual-aid">dans l'index</a>) que vous pouvez utiliser pour mieux comprendre chacune des étapes liées à la création des commits (les autres appartenant à la catégorie de la <a href="./sync.html">synchronisation</a>...) :
						</p>
						<div class="py-3">
							<img class="img-fluid d-block mx-auto" src="../images/HowGitWorksBackground.jpg" alt="Aperçu du fonctionnement de git">
						</div>
						
					</section>
					
					<section class="py-2">
						
						<h2 id="add" class="text-left"><code>git add</code></h2>
						
						<p class="pt-2">
							Cette commande sert à ajouter dans l'index les modifications dans le dossier locale.
							Dans l'image en haut, cette commande équivaut à la flèche bleue : passer du <mark>workspace</mark> à l'<mark>index</mark>.
							Cela veut donc dire que grâce à cette commande, on indique à git : "<span class="lead">je suis prêt à mettre ces modifications dans le repository, donc prépare-les à être mis dans un commit</span>".
						</p>
						<p>
							Il est important de savoir que cette commande fonctionne en prenant le nom du fichier à mettre dans l'index grâce aux arguments : <kbd>git add index.html</kbd>.
							Dans le cas où nous somme prêt à mettre tout les fichiers modifiés dans l'index, nous pouvons utiliser le paramètre <kbd>-A</kbd> (<small>ou <kbd>--all</kbd></small>) : <kbd>git add -A</kbd>.
						</p>
						<p>
							Bref, cette commande prépare un commit sans le créer : c'est la première étape pour pouvoir créer un commit contenant les modifications souhaitées.
						</p>
						<p class="mb-0">
							<a href="https://git-scm.com/docs/git-add" target="_blank">En savoir plus <img class="pl-1" src="../images/link-external.png" alt="" height="10"></a>
						</p>
						
					</section>
					
					<section class="py-2">
						
						<h2 id="reset" class="text-left"><code>git reset</code></h2>
						
						<p class="pt-2">
							Cette commande est en fait l'inverse de <a href="#add"><kbd>git add</kbd></a> : elle prend les modifications qui sont ajoutées dans l'<mark>index</mark> et les enlèves pour les laisser dans le <mark>workspace</mark>.
							Ceci est effectué en ne donnant pas d'arguments à la commande ou en ne donnant que les noms / chemins des fichiers à enlever de l'index, tel que <kbd>git reset index.html</kbd>.
						</p>
						<hr class="mx-5">
						<p class="mb-0">
							<span class="font-weight-bold">Cependant</span>, cette commande ne sert pas qu'à modifier l'index, mais aussi les commits et par conséquent, le <mark>repository</mark> : ceci permet donc de retourner à un ancien commit et, selon le mode, soit en gardant les commits (<code>soft</code>), soit en détruisant les commits tout en gardant les modifications(<code>mixed</code>), soit en enlevant tout les commits ainsi que leur modifications (<code>hard</code>).
							Cette utilisation est accessible sous la forme de <kbd>git reset --[soft, mixed, hard] [fichiers]</kbd>.
							Ainsi, en utilisant la commande <kbd>git reset --mixed a56af8</kbd>, cela va détruire les commits jusqu'à temps que j'arrive au commit ayant l'id commençant par <code>a56af8</code> tout en gardant les modifications dans chacun des commits détruits.
						</p>
						<div class="bg-danger text-white py-2 px-3 mb-3">
							<span class="font-weight-bold text-uppercase">Danger</span> : cette utilisation détruit essentiellement l'historique de la branche au quel vous effectuer cette commande, un peu comme si vous réécriviez l'histoire.
							Pensez à deux fois avant d'utiliser cette commande pour revenir en arrière au niveau des commits, puisque une fois complétée, il n'y a pas de retour en arrière!
						</div>
						<p>
							Bref, cette commande est un peu comme le "undo" de git, tout en permettant de gérer les anciens commits et de modifier les commits précédant - par contre, elle est aussi très destructrice sous certaines conditions, ainsi, il faut savoir comment bien l'utiliser.
						</p>
						<p class="mb-0">
							<a href="https://git-scm.com/docs/git-reset" target="_blank">En savoir plus <img class="pl-1" src="../images/link-external.png" alt="" height="10"></a>
						</p>
						
					</section>
					
					<section class="py-2">
						
						<h2 id="commit" class="text-left"><code>git commit</code></h2>
						
						<p class="pt-2">
							Cette commande sert à créer une "version", un commit, avec les modifications dans l'<mark>index</mark>*, vers le <mark>repository</mark> locale.
							Dans l'image en haut, cette commande équivaut à la flèche verte.
							En utilisant la commande telle quelle, git créer un commit contenant toutes les informations de l'index sans ajouter de message au commit : une méthode fonctionnelle mais peu recommandée.
							Plutôt, il faudrait ajouter le paramètre <kbd>-m</kbd>, qui lui va ajouter un message au commit pour savoir facilement ce que le commit fait.
							Ainsi, la commande pourrait ressembler à ceci : <kbd>git commit -m "Ajoute une méthode de tri à l'objet maître"</kbd>.
							<br>
							En créant un commit, les modifications sont appliquées dans le <mark>workspace</mark>, l'<mark>index</mark> est vidé et évidemment, un nouveau commit est créé dans le <mark>repository</mark>.
						</p>
						<p>
							* En fait, il est possible de faire un commit sans passer par l'index (<span class="small">du moins, manuellement</span>) en utilisant le paramètre <kbd>-a</kbd> : <kbd>git commit -a -m "Commit sans git add!"</kbd>.
						</p>
						<p class="mb-0">
							<a href="https://git-scm.com/docs/git-commit" target="_blank">En savoir plus <img class="pl-1" src="../images/link-external.png" alt="" height="10"></a>
						</p>
						
					</section>
					
					<section class="py-2">
						
						<h2 id="tag" class="text-left"><code>git tag</code></h2>
						
						<p class="pt-2">
							Cette commande sert à créer, modifier ou supprimer des <span class="font-weight-bold font-italic">tags</span>.
							Qu'est-ce qu'un tag?
							Un tag est un peu comme un signet : ils servent à pointer un commit et dire "<span class="lead">ce commit est important</span>".
							Souvent, ils sont utilisés pour mettre en évidence une version particulière (exemple : <mark>v1.0.0</mark>) et ainsi pouvoir revenir à ce commit plus rapidement.
						</p>
						<p>
							De plus, les services externes peuvent utiliser les informations des tags pour nous donner d'avantages de fonctionnalitées : ils peuvent servire de point de référence pour un nouveau release (<span class="font-italic">on se souvient du <mark>v1.0.0</mark></span>) ou pour mettre en évidence un commit qui pourrait provoquer des problèmes futurs.
						</p>
						<p class="mb-1">
							Voici des exemples de commandes pour gérer les tags :
						</p>
						<ul>
							<li><kbd>git tag v1.0.0</kbd> : Créé un tag au commit où la branche est présentement;</li>
							<li><kbd>git tag v1.0.0 a56af8</kbd> : Créé un tag au commit spécifié après le nom du tag (<mark>a56af8</mark>);</li>
							<li><kbd>git tag -d v1.0.0</kbd> : Supprime un tag portant le nom <mark>v1.0.0</mark>;</li>
							<li><kbd>git push origin v1.0.0</kbd> : Envoi le tag <mark>v1.0.0</mark> sur le repository distant;</li>
							<li><kbd>git push --tags</kbd> : Envoi tout les tags sur le repository distant (non recommandé).</li>
						</ul>
						<p class="mb-0">
							<a href="https://git-scm.com/docs/git-tag" target="_blank">En savoir plus <img class="pl-1" src="../images/link-external.png" alt="" height="10"></a>
						</p>
						
					</section>
					
					<section class="py-2">
						
						<h2 id="stash" class="text-left"><code>git stash</code></h2>
						
						<p class="pt-2">
							Todo
						</p>
						<p class="mb-0">
							<a href="https://git-scm.com/docs/git-stash" target="_blank">En savoir plus <img class="pl-1" src="../images/link-external.png" alt="" height="10"></a>
						</p>
						
					</section>
					
				</div>
			</main>
			
		</div>
		
	</div>
	
	<footer>
		
		<div class="d-flex bg-dark py-3 text-light">
			<div class="container py-3">
				<div class="row text-center">
					<div class="col-sm text-sm-left">
						Document réalisé avec <span class="text-danger">&hearts;</span> par Guillaume Marcoux &copy; 2018
					</div>
					<div class="col-sm text-sm-right pt-4 pt-sm-0">
						Site créé avec <a href="https://getbootstrap.com/" target="_blank">Bootstrap</a> <a href="https://getbootstrap.com/docs/4.1/getting-started/introduction/" target="_blank">4.1</a>.
					</div>
				</div>
			</div>
		</div>
		
	</footer>
	
</body>
</html>